{% extends "course_conclusion/base.html" %}
{% load static %}

{% block page_title %}Course Conclusion Dates{% endblock page_title %}

{% block bodytag %}
<body class="with-navbar" ng-app="courseConclusionApp">
{% endblock bodytag %}

{% block content %}
{% verbatim form %}
<form class="form-horizontal" ng-controller="CourseConclusionController as courseCtrl">
  <div class="form-group">
    <label for="school" class="col-sm-2 control-label">School</label>
    <div class="col-sm-10">
      <select class="form-control" id="school" ng-model="courseCtrl.currentSchool"
              ng-change="courseCtrl.getTerms()">
        <option ng-repeat="school in courseCtrl.schools"
                label="{{ school.title_short }}"
                value="{{ school.school_id }}">
      </select>
    </div>
  </div>
  <div class="form-group">
    <label for="term" class="col-sm-2 control-label">Term</label>
    <div class="col-sm-10">
      <select class="form-control" id="term" ng-model="courseCtrl.currentTerm"
              ng-change="courseCtrl.getCourses()">
        <option ng-repeat="term in courseCtrl.terms"
                label="{{ term.display_name }}"
                value="{{ term.term_id }}">
      </select>
    </div>
    <div class="col-sm-10 col-sm-offset-2 text-muted" id="term-end-date">
      Term end {{ courseCtrl.terms[courseCtrl.currentTerm].conclude_date }}
    </div>
  </div>
  <div class="form-group">
    <label for="course" class="col-sm-2 control-label">Course</label>
    <div class="col-sm-10">
      <select class="form-control" id="course" ng-model="courseCtrl.currentCourse">
        <option ng-repeat="course in courseCtrl.courses"
                label="{{ course.course_id }} - {{ course.title || 'No title' }}"
                value="{{ course.course_instance_id }}">
      </select>
    </div>
  </div>
  <div class="form-group">
    <label for="course-conclusion-date" class="col-sm-2 control-label">Course Conclusion Date</label>
    <div class="col-sm-10">
      <input type="date" class="form-control" id="course-conclusion-date"
             ng-model="ctrl.currentConclusionDate">
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-default">Submit</button>
      <button type="reset" class="btn btn-default">Reset</button>
    </div>
  </div>
</form>
{% endverbatim form %}
{% endblock content %}

{% block javascript %}
{{ block.super }}
{% if debug %}
<script src="{% static "angular-1.3.15/angular.js" %}"></script>
{% else %}
<script src="{% static "angular-1.3.15/angular.min.js" %}"></script>
{% endif %}
<script src="{% static "course_conclusion/index.js" %}"></script>
{% endblock javascript %}
