{% extends "course_conclusion/base.html" %}
{% load static %}

{% block page_title %}Course Conclusion Dates{% endblock page_title %}

{% block bodytag %}
<body class="with-navbar" ng-app="courseConclusionApp">
{% endblock bodytag %}

{% block content %}
{% verbatim form %}
<form class="form-horizontal" ng-controller="CourseConclusionController as courseCtrl">
  <div class="form-group">
    <label for="school" class="col-sm-2 control-label">School</label>
    <div class="col-sm-10">
      <select class="form-control nullable"
              ng-options="school.title_short for school in courseCtrl.schools"
              ng-model="courseCtrl.currentSchool"
              ng-change="courseCtrl.getTerms()"
              ng-disabled="courseCtrl.schools.length === 0">
        <option value="">-- Choose A School --</option>
      </select>
    </div>
  </div>
  <div class="form-group">
    <label for="term" class="col-sm-2 control-label">Term</label>
    <div class="col-sm-10">
      <select class="form-control nullable"
              ng-options="term.display_name for term in courseCtrl.terms"
              ng-model="courseCtrl.currentTerm"
              ng-change="courseCtrl.getCourses()"
              ng-disabled="courseCtrl.terms.length === 0">
        <option value="">-- Choose A Term --</option>
      </select>
    </div>
    <div class="col-sm-10 col-sm-offset-2 text-muted"
         ng-show="courseCtrl.currentTerm.conclude_date">
      Term conclude date is {{ courseCtrl.currentTerm.conclude_date | date }}
    </div>
  </div>
  <div class="form-group">
    <label for="course" class="col-sm-2 control-label">Course</label>
    <div class="col-sm-10">
      <select class="form-control nullable" id="course"
              ng-options="course.course_id + ' - ' + (course.title || 'No title') for course in courseCtrl.courses"
              ng-model="courseCtrl.currentCourse"
              ng-disabled="courseCtrl.courses.length === 0">
        <option value="">-- Choose A Course --</option>
      </select>
    </div>
  </div>
  <div class="form-group">
    <label for="course-conclusion-date" class="col-sm-2 control-label">
      Course Conclusion Date
    </label>
    <div class="col-sm-10">
      <input type="date" class="form-control"
             ng-model="courseCtrl.currentCourse.conclude_date">
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-default">Submit</button>
      <button type="reset" class="btn btn-default">Reset</button>
    </div>
  </div>
</form>
{% endverbatim form %}
{% endblock content %}

{% block javascript %}
{{ block.super }}
{% if debug %}
<script src="{% static "angular-1.4.0/angular.js" %}"></script>
{% else %}
<script src="{% static "angular-1.4.0/angular.min.js" %}"></script>
{% endif %}
<script src="{% static "course_conclusion/index.js" %}"></script>
{% endblock javascript %}
